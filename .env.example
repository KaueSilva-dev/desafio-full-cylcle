# Modo de atuação do rate limiter: ip | token | both
MODE=both

# Janela de contagem (em ms) — default 1000ms (1s)
RATE_LIMIT_WINDOW_MS=1000

# Política padrão por IP
RATE_LIMIT_IP_RPS=5
RATE_LIMIT_IP_BLOCK=5m

# Política padrão por Token (usada quando o token é enviado via header API_KEY)
RATE_LIMIT_TOKEN_DEFAULT_RPS=10
RATE_LIMIT_TOKEN_DEFAULT_BLOCK=5m

# Overrides por Token em JSON (token, rps, block)
# Exemplo: dois tokens diferentes com políticas próprias
RATE_LIMIT_TOKENS_JSON=[{"token":"abc123","rps":100,"block":"2m"},{"token":"gold-999","rps":200,"block":"1m"}]

# Redis
REDIS_ADDR=redis:6379
REDIS_PASSWORD=
REDIS_DB=0

# HTTP
HTTP_ADDR=:8080

# Confiar em X-Forwarded-For ao extrair IP do cliente
TRUST_PROXY=true